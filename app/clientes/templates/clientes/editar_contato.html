{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <!-- T√≠tulo -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3><i class="fas fa-edit"></i> Editar Contato</h3>
        <a href="{{ url_for('clientes.detalhe', cliente_id=cliente_id) }}" class="btn btn-secondary btn-sm">
            <i class="fas fa-arrow-left"></i> Voltar
        </a>
    </div>

    <!-- Mensagens flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Formul√°rio de edi√ß√£o -->
    <form method="POST" action="{{ url_for('clientes.editar_contato', cliente_id=cliente_id, contato_id=contato.id) }}">
        <div class="mb-3">
            <label for="tipo" class="form-label">Tipo</label>
            <select class="form-select" id="tipo" name="tipo" required>
                <option value="telefone" {% if contato.tipo == 'telefone' %}selected{% endif %}>
                    üìû Telefone
                </option>
                <option value="celular" {% if contato.tipo == 'celular' %}selected{% endif %}>
                    <i class="fas fa-mobile-alt"></i> Celular
                </option>
                <option value="whatsapp" {% if contato.tipo == 'whatsapp' %}selected{% endif %}>
                    <i class="fab fa-whatsapp text-success"></i> WhatsApp
                </option>
                <option value="email" {% if contato.tipo == 'email' %}selected{% endif %}>
                    ‚úâÔ∏è E-mail
                </option>
                <option value="outro" {% if contato.tipo == 'outro' %}selected{% endif %}>
                    Outro
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label for="valor" class="form-label">Valor</label>
            <input type="text" class="form-control" id="valor" name="valor" value="{{ contato.valor }}" required>
        </div>

        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Salvar Altera√ß√µes
            </button>
            <a href="{{ url_for('clientes.detalhe', cliente_id=cliente_id) }}" class="btn btn-outline-secondary">
                Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}
